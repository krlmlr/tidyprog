```{r 10-remove-all, include = FALSE}
rm(list = ls())
```


## <No caption defined>

<details><summary>Setup code</summary>
```{r include = FALSE}
### <No caption defined>

```
```{r 10-setup-10-mutate-map-r}
library(tidyverse)
library(here)

dict <- readxl::read_excel(here("data/cities.xlsx"))
dict

input_data <-
  dict %>%
  select(city_code, weather_filename) %>%
  deframe() %>%
  map(~ readxl::read_excel(here(.)))
```
</details>


```{r include = FALSE}
# Lists are also vectors, enframe() returns a nested tibble!
```
```{r 10-lists-are-also-vectors-enframe-returns-a-nested-tibble}
input_data %>%
  enframe()
```


```{r include = FALSE}
# Operate in "tibble-land" right away: columns are vectors
```
```{r 10-operate-in-tibble-land-right-away-columns-are-vectors}
dict %>%
  select(city_code, weather_filename) %>%
  mutate(
    data = map(weather_filename, ~ readxl::read_excel(here(.)))
  )
```


```{r include = FALSE}
# Keep important columns
```
```{r 10-keep-important-columns}
dict %>%
  mutate(
    data = map(weather_filename, ~ readxl::read_excel(here(.)))
  ) %>%
  select(-weather_filename)
```
