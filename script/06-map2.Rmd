```{r 06-remove-all, include = FALSE}
rm(list = ls())
```


## Manipulating pairwise

```{r include = FALSE}
### Manipulating pairwise

```
```{r 06-setup-06-map-2-r}
library(tidyverse)
library(here)

dict <- readxl::read_excel(here("data/cities.xlsx"))

manipulator <- function(data) {
  data %>%
    select(time, contains("emperature")) %>%
    filter(temperature >= 14)
}

manipulated_data <-
  dict %>%
  select(city_code, weather_filename) %>%
  deframe() %>%
  map(~ readxl::read_excel(here(.))) %>%
  map(manipulator)
```


```{r include = FALSE}
# Write back results: new file names
```
```{r 06-write-back-results-new-file-names}
output_filenames <- tempfile(names(manipulated_data), fileext = ".csv")
output_filenames
```


```{r include = FALSE}
# Iterate over pairs
```
```{r 06-iterate-over-pairs}
map2(manipulated_data, output_filenames, ~ readr::write_csv(..1, ..2))
```


```{r include = FALSE}
# We don't really need the output
```
```{r 06-we-don-t-really-need-the-output}
walk2(manipulated_data, output_filenames, ~ readr::write_csv(..1, ..2))
```
